<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<!-- Apple Icon -->
	<link rel="apple-touch-icon" size="114x114" href="images/splash-icon.png">
<!-- Loading Screen -->
	<link rel="apple-touch-startup-image" href="images/splash-screen.gif"/>
<!-- jQuery and jQuery mobile scripts --> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
<!-- Additional Script and Styles -->
	<script type="text/javascript" src="js/menuScript.js"></script>
	<link rel="stylesheet" href="style/mainStyle.css"/>
</head> 
<body>
<!--- MENU -->
<div id="menu" >
<h3>ShareCare Menu</h3>
	<ul>
		<li class="active"><a href="#userHome" class="contentLink">Home</a></li>
		<li><a href="#orgList" class="contentLink">Organizations</a></li>
		<li><a href="#eventsPage" class="contentLink">Events</a></li>
		<li><a href="javascript:randomGenerator()" class="contentLink" >Random Event</a></li>
	</ul>
</div>

<!--- ***************************************************
					START OF USER HOME PAGE
	  ***************************************************-->


<div data-role="page" id="userHome">
	<div data-role="header" data-theme="b">
		<a href="#" class="showMenu">Menu</a>
		<img src="images/LogoIcon.png" style="float:right; position:relative; top: 6px; right: 10px;"></img>
		<h1>User Home</h1>
	</div><!-- /header -->
	
	<!--CONTENT OF HOME PAGE --> 
	<div data-role="content">
		<h1 class="center-text">Welcome <span class='userFN'></span>!</h1><br/>		
		
			<table data-role="none" id="recomendList">
				<tr><th>
				<h2 id="orgDashTitle">Check These Out!</h2>
				</th></tr>
				
					<tr>
					<td>
						<p> </p>
					</td>
					</tr>
			</table>
			<!-- END OF TABLE -->
	</div><!-- /User Home Content -->
</div><!-- /User Home Page -->


<!--- ***************************************************
					START OF ORG LIST PAGE
	  ***************************************************-->

<div data-role="page" id='orgList'>
	<div data-role="header" data-theme="b">
		<a href="#" class="showMenu">Menu</a>
		<img src="images/LogoIcon.png" style="float:right; position:relative; top: 6px; right: 10px;"></img>
		<h1>Organizations</h1>
	</div><!-- /header -->
	
	<!--CONTENT OF HOME PAGE --> 
	<div data-role="content">
		<h1 class="center-text">Hey <span class='userFN'></span>, look at all these organizations</h1><br/>		
		
			<table data-role="none" id="orgList">
				<tr><th>
				<h2 id="orgDashTitle">Organizations:</h2>
				</th></tr>
				
					<tr>
					<td>
						<p> </p>
					</td>
					</tr>
			</table>
			<!-- END OF TABLE -->
	</div><!-- /Org list Content -->
</div><!-- /Org List Page -->

<!--- ***************************************************
					START OF EVENT LIST PAGE
	  ***************************************************-->

<div data-role="page" id="eventsPage">
	<div data-role="header" data-theme="b">
		<a href="#" class="showMenu">Menu</a>
		<img src="images/LogoIcon.png" style="float:right; position:relative; top: 6px; right: 10px;"></img>
		<h1>Organizations</h1>
	</div><!-- /header -->

	
	<!--CONTENT OF HOME PAGE --> 
	<div data-role="content">
		<h1 class="center-text">Events</h1><br/>		
		
			<table data-role="none" id="events">
				<tr><th>
				<h2 id="orgDashTitle">Upcoming Events:</h2>
				</th></tr>
				
					<tr>
					<td>
						<p> </p>
					</td>
					</tr>
			</table>
			<!-- END OF TABLE -->
	</div><!-- /Event List Content -->
</div><!-- /Event List Page -->

<!--- ***************************************************
					START OF RANDOM EVENT PAGE
	  ***************************************************-->


<!--- ***************************************************
					START OF ORG PAGE
	  ***************************************************-->
<div data-role="page" id="org">
	<div data-role="header" data-theme="b">
		<a href="#" data-rel="back">Back</a>
		<img src="images/LogoIcon.png" style="float:right; position:relative; top: 6px; right: 10px;"></img>
		<h1>Organization</h1>
	</div><!-- /header -->

<div data-role="content">
		<img src="images/defaultProf.png" class="float">
		<h1 class="orgInput"> Org Name</h1><br/>
		<h2 class="orgInput"> Website name</h2>
		<p><span class="orgInput"> Address</span></br>
			<span class="orgInput"> City</span>, <span class="orgInput"> State</span> 
		</p>

		<div data-role='collapsible'>
			<h1> Type </h1>
			<p class="orgInput">TYPE</p>
		</div>

		<div data-role='collapsible'>
			<h1> Contact Information </h1>
			<p class="orgInput">Contact Information</p>
		</div>

		<div data-role='collapsible'>
			<h1> Summary </h1>
			<p>Description</p>
		</div>

		<div data-role='collapsible'>
			<h1> Requirments </h1>
			<p></p>
		</div>

		<div data-role='collapsible'>
			<h1> Responsibilities </h1>
			<p></p>
		</div>


	</div><!-- /Event Content -->
</div><!-- /Event Page -->


<!--- ***************************************************
					START OF EVENT PAGE
	  ***************************************************-->
<div data-role="page" id="event">
	<div data-role="header" data-theme="b">
		<a href="#" data-rel="back">Back</a>
		<img src="images/LogoIcon.png" style="float:right; position:relative; top: 6px; right: 10px;"></img>
		<h1>Event</h1>
	</div><!-- /header -->

	<div data-role="content">
			<img src="images/defaultProf.png" class="float">
			<h1 class="eventInput"> Event Name</h1><br/>
			<h2 class="eventInput"> Org name</h2>
			<p><span class="eventInput"> Address</span></br>
				<span class="eventInput"> City</span>, <span class="eventInput"> State</span> 
			</p> 

		<div data-role='collapsible'>
			<h1> Date </h1>
			<p class="eventInput">date</p>
		</div>
		<div data-role='collapsible'>
			<h1> type </h1>
			<p class="eventInput">TYPE</p>
		</div>

		<div data-role='collapsible'>
			<h1> Contact Information </h1>
			<p class="eventInput">Contact Name</p>
			<p class="eventInput">Contact Phone</p>
			<p class="eventInput">Contact Email</p>
		</div>

		<div data-role='collapsible'>
			<h1> Summary </h1>
			<p class="eventInput">Description</p>
		</div>

		<div data-role='collapsible'>
			<h1> Requirments </h1>
			<p class="eventInput"></p>
		</div>

		<div data-role='collapsible'>
			<h1> Responsibilities </h1>
			<p class="eventInput"></p>
		</div>


	</div><!-- /Event Content -->
</div><!-- /Event Page -->


<!--- **************************************************
					SCRIPT SECTION
	  ***************************************************-->

<script language="javascript">
var userfn = '';

/*   ************  CODE FOR USER HOME PAGE  ********* 
		*********************************************
		**********************************************/ 


$('#userHome').live('pageinit', function(event){popList();});

function popList(){

$.post('userHomeEventList.php', function(text, status){
			var b = text.split("<hr>");
			userfn = b[0];
			console.log(userfn);
			$('.userFN').html(userfn);
			for(x=1; x<6; x++){ // start at 1 because array at 0 is the users first name
				$('#recomendList tr:last').before(b[x]);
			}
		});
		

setTimeout(function() {
		$('td').click(function(){
			var event_id = $(this).find('div').html();
			storeEventID(event_id);
				$.mobile.changePage('#event');
		})
	}, 2000);
}

function storeEventID(event_id){
	console.log(event_id);
	$.get('storeEventID.php?event_id='+event_id);
}	


function storeOrgID(org_id){
	console.log(org_id);
	$.get('storeOrgID.php?org_id='+org_id);
}			


/*   ************  CODE FOR ORG LIST PAGE  ********* 
	*************************************************
	**************************************************/


$('#orgList').live('pageinit', function(event){

$.post('userOrgList.php', function(text, status){
			var b = text.split("<hr>");
			for(x=0; x<6; x++){
				$('#orgList tr:last').before(b[x]);
			}
		});
		

setTimeout(function() {
		$('.org').click(function(){
			var org_id = $(this).find('div').html();
			storeOrgID(org_id);
			$.mobile.changePage('#org');
		})
	}, 2000);

});

/*   ************  CODE FOR EVENT LIST PAGE  *********
	***************************************************
	************************************************** */


$('#eventsPage').live('pageinit', function(event){

$.post('userHomeEventList.php', function(text, status){
			var b = text.split("<hr>");
			for(x=1; x<b.length; x++){
				$('#events tr:last').before(b[x]);
			}
		});
		

setTimeout(function() {
		$('td').click(function(){
			var event_id = $(this).find('div').html();
			storeEventID(event_id);
			$.mobile.changePage('#event');
		})
	}, 2000);

});


/*   ************  CODE FOR ORG PAGE  *********
	***************************************************
	************************************************** */

	$('#org').live('pageshow', function(event){
		$.post('OrgPage.php', function(responseText, status){
			values = responseText.split("**");
			$('.orgInput').each(function(index){
				console.log(values[index]);
				$(this).html(values[index]);
			});
		});
	});


/*   ************  CODE FOR EVENT PAGE  *********
	***************************************************
	************************************************** */


	$('#event').live('pageshow', function(event){
		$.post('EventPage.php', function(responseText, status){
			values = responseText.split("**");
			$('.eventInput').each(function(index){
				console.log(values[index]);
				$(this).html(values[index]);
			});
		});
	});


/*   ************  CODE FOR RANDOM PAGE  *********
	***************************************************
	************************************************** */
function randomGenerator(){
	$.get('Random.php');
	$.mobile.changePage('#event');
}

					
</script>
</body> 
</html>